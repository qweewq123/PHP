;/*!/assets/js/backbone.js*/
define("detail:assets/js/backbone",function(t,e){!function(i){var n="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["common:lib/underscore/underscore-min","common:lib/jquery/jquery-1.11.3","exports"],function(t,e,s){n.Backbone=i(n,s,t,e)});else if("undefined"!=typeof e){var s,r=t("common:lib/underscore/underscore-min");try{s=t("common:lib/jquery/jquery-1.11.3")}catch(a){}i(n,e,r,s)}else n.Backbone=i(n,{},n._,n.jQuery||n.Zepto||n.ender||n.$)}(function(t,e,i,n){var s=t.Backbone,r=Array.prototype.slice;e.VERSION="1.2.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,r){return i[e](this[n],h(t,this),s,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},o=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,d=function(t,e,n,s,r){var a,o=0;if(n&&"object"==typeof n){void 0!==s&&"context"in r&&void 0===r.context&&(r.context=s);for(a=i.keys(n);o<a.length;o++)e=d(t,e,a[o],n[a[o]],r)}else if(n&&l.test(n))for(a=n.split(l);o<a.length;o++)e=t(e,a[o],s,r);else e=t(e,n,s,r);return e};c.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,s){if(t._events=d(g,t._events||{},e,i,{context:n,ctx:t,listening:s}),s){var r=t._listeners||(t._listeners={});r[s.id]=s}return t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=r[s];if(!a){var o=this._listenId||(this._listenId=i.uniqueId("l"));a=r[s]={obj:t,objId:s,id:o,listeningTo:r,count:0}}return f(t,e,n,this,a),this};var g=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),r=n.context,a=n.ctx,o=n.listening;o&&o.count++,s.push({callback:i,context:r,ctx:r||a,listening:o})}return t};c.off=function(t,e,i){return this._events?(this._events=d(v,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var r=t?[t._listenId]:i.keys(s),a=0;a<r.length;a++){var o=s[r[a]];if(!o)break;o.obj.off(e,n,this)}return i.isEmpty(s)&&(this._listeningTo=void 0),this};var v=function(t,e,n,s){if(t){var r,a=0,o=s.context,h=s.listeners;if(e||n||o){for(var u=e?[e]:i.keys(t);a<u.length;a++){e=u[a];var c=t[e];if(!c)break;for(var l=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||o&&o!==f.context?l.push(f):(r=f.listening,r&&0===--r.count&&(delete h[r.id],delete r.listeningTo[r.objId]))}l.length?t[e]=l:delete t[e]}return i.size(t)?t:void 0}for(var g=i.keys(h);a<g.length;a++)r=h[g[a]],delete h[r.id],delete r.listeningTo[r.objId]}};c.once=function(t,e,n){var s=d(p,{},t,e,i.bind(this.off,this));return this.on(s,void 0,n)},c.listenToOnce=function(t,e,n){var s=d(p,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var p=function(t,e,n,s){if(n){var r=t[e]=i.once(function(){s(e,r),n.apply(this,arguments)});r._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;e>n;n++)i[n]=arguments[n+1];return d(m,this._events,t,void 0,i),this};var m=function(t,e,i,n){if(t){var s=t[e],r=t.all;s&&r&&(r=r.slice()),s&&_(s,n),r&&_(r,[e].concat(n))}return t},_=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var r=n.unset,a=n.silent,o=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,l=this._previousAttributes;for(var d in s)e=s[d],i.isEqual(u[d],e)||o.push(d),i.isEqual(l[d],e)?delete c[d]:c[d]=e,r?delete u[d]:u[d]=e;if(this.id=this.get(this.idAttribute),!a){o.length&&(this._pending=n);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,u[o[f]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var r=t[s];i.isEqual(e[s],r)||(n[s]=r)}return i.size(n)?n:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;return e.set(s,t)?(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t)):!1},z(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var r=n.wait;if(s&&!r){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,o=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;return r&&(e=i.extend({},s,e)),e&&!a.set(e,n)?!1:(o&&o.call(n.context,a,t,n),void a.trigger("sync",a,t,n))},z(this,n),s&&r&&(this.attributes=i.extend({},h,s));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=s);var c=this.sync(u,this,n);return this.attributes=h,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&r(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(z(this,t),a=this.sync("delete",this,t)),s||r(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1):!0}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,b,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},k=function(t,e,i){i=Math.min(Math.max(i,0),t.length);for(var n=Array(t.length-i),s=e.length,r=0;r<n.length;r++)n[r]=t[r+i];for(r=0;s>r;r++)t[r+i]=e[r];for(r=0;r<n.length;r++)t[r+s+i]=n[r]};i.extend(x.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,E))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:i.clone(t);var s=this._removeModels(t,e);return!e.silent&&s&&this.trigger("update",this,e),n?s[0]:s},set:function(t,e){if(null!=t){e=i.defaults({},e,w),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),0>s&&(s+=this.length+1);for(var r,a=[],o=[],h=[],u={},c=e.add,l=e.merge,d=e.remove,f=!1,g=this.comparator&&null==s&&e.sort!==!1,v=i.isString(this.comparator)?this.comparator:null,p=0;p<t.length;p++){r=t[p];var m=this.get(r);if(m){if(l&&r!==m){var _=this._isModel(r)?r.attributes:r;e.parse&&(_=m.parse(_,e)),m.set(_,e),g&&!f&&(f=m.hasChanged(v))}u[m.cid]||(u[m.cid]=!0,a.push(m)),t[p]=m}else c&&(r=t[p]=this._prepareModel(r,e),r&&(o.push(r),this._addReference(r,e),u[r.cid]=!0,a.push(r)))}if(d){for(p=0;p<this.length;p++)r=this.models[p],u[r.cid]||h.push(r);h.length&&this._removeModels(h,e)}var y=!1,b=!g&&c&&d;if(a.length&&b?(y=this.length!=a.length||i.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,k(this.models,a,0),this.length=this.models.length):o.length&&(g&&(f=!0),k(this.models,o,null==s?this.length:s),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(p=0;p<o.length;p++)null!=s&&(e.index=s+p),r=o[p],r.trigger("add",r,this,e);(f||y)&&this.trigger("sort",this,e),(o.length||h.length)&&this.trigger("update",this,e)}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null==t)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},z(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var s=this,r=e.success;return e.success=function(t,e,i){n&&s.add(t,i),r&&r.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var r=this.indexOf(s);this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i.length?i:!1},_isModel:function(t){return t instanceof y},_addReference:function(t){this._byId[t.cid]=t;var e=this.modelId(t.attributes);null!=e&&(this._byId[e]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t){delete this._byId[t.cid];var e=this.modelId(t.attributes);null!=e&&delete this._byId[e],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if("add"!==t&&"remove"!==t||i===this){if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);s!==r&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=e))}this.trigger.apply(this,arguments)}}});var S={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};o(x,S,"models");var I=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(I.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(T);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var r=H[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||F()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var u=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,u,s),u};var H={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,C=/\*\w+/g,R=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);r.execute(s,a,n)!==!1&&(r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a))}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(R,"\\$&").replace(A,"(?:$1)?").replace(j,function(t,e){return e?t:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,U=/#.*$/;M.started=!1,i.extend(M.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(N,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!M.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;(""===t||"?"===t.charAt(0))&&(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(U,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new M;var q=function(t,e){var n,s=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e);var r=function(){this.constructor=n};return r.prototype=s.prototype,n.prototype=new r,t&&i.extend(n.prototype,t),n.__super__=s.prototype,n};y.extend=x.extend=$.extend=I.extend=M.extend=q;var F=function(){throw new Error('A "url" property or function must be specified')},z=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e})});
;/*!/assets/js/jquery.gotop/jquery.gotop.js*/
define("detail:assets/js/jquery.gotop/jquery.gotop",function(t,o,e){!function(n){"function"==typeof define&&define.amd?define(["common:lib/jquery/jquery-1.11.3"],n):"object"==typeof o?e.exports=n(t("common:lib/jquery/jquery-1.11.3")):n(jQuery)}(function(t){t.extend(t.easing,{easeOutCubic:function(t,o,e,n,i){return n*((o=o/i-1)*o*o+1)+e}});var o={speed:0,smartShow:!0,smartHeight:200,scrollTo:0,container:null},e=function(e){this.opts=t.extend({},o,e),this.init()};return e.prototype={init:function(){var o=this,e=o.opts;o.$container=t(e.container?container:document),o.$conBody=o.render(),o.opts.smartShow&&o.autoShow(),o.bindEvent()},bindEvent:function(){var o,e=this;e.$conBody.on("click",".gotop-arrow",function(){o&&(clearTimeout(o),o=null),o=setTimeout(t.proxy(e.goTop,e),200)})},goTop:function(){var o=this,e=o.opts,n=e.speed,i=e.scrollTo;t.isNumeric(n)?t("html,body").animate({scrollTop:i},n,"easeOutCubic"):"string"===i&&$container.scrollTop(t(e.scrollTo).offset().top)},autoShow:function(){var t,o=this,e=o.$container,n=o.$conBody,i=this.opts.smartHeight;o.$conBody.css({opacity:0,display:"none"}),e.on("scroll",function(){t&&(clearTimeout(t),t=null),t=setTimeout(function(){e.scrollTop()>i?n.show().animate({opacity:1},300):n.animate({opacity:0},150)},100)})},render:function(){var o=this,e='<div class="site-gotop" id="siteGotop"><a class="gotop-suggest" title="建议反馈" href="/member/suggest/index" target="_blank"></a><div class="gotop-arrow" title="回到顶部"></div></div>',n=".site-gotop{position:fixed;width:44px;bottom:50px;left:50%;margin-left:640px;display:none}.gotop-suggest,.gotop-arrow{display:inline-block;width:44px;height:44px;background:#b4b4b4 no-repeat 50%50%;cursor:pointer}.gotop-suggest{background-image:url(http://store.res.meizu.com/resources/php/store/static/detail/assets/img/suggest.png)}.gotop-arrow{background-image:url(http://store.res.meizu.com/resources/php/store/static/detail/assets/img/gotop-arrow.png);margin-top:5px}";return o.createStyle(n),t(e).appendTo("body")},createStyle:function(t){var o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=t:o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o)},destroy:function(){this.$container.off("scroll.scrollfix")}},e})});
;/*!/assets/js/jquery.lazyload/jquery.lazyload.js*/
define("detail:assets/js/jquery.lazyload/jquery.lazyload",function(A){var g=A("common:lib/jquery/jquery-1.11.3");!function(A,g,I,C){var B=A(g);A.fn.lazyload=function(Q){function E(){var g=0;e.each(function(){var I=A(this);if(!t.skip_invisible||I.is(":visible"))if(A.abovethetop(this,t)||A.leftofbegin(this,t));else if(A.belowthefold(this,t)||A.rightoffold(this,t)){if(++g>t.failure_limit)return!1}else I.trigger("appear"),g=0})}var w,e=this,t={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:g,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder:"data:image/jpeg;base64,/9j/4QNVRXhpZgAATU0AKgAAAAgABwESAAMAAAABAAEAAAEaAAUAAAABAAAAYgEbAAUAAAABAAAAagEoAAMAAAABAAIAAAExAAIAAAAkAAAAcgEyAAIAAAAUAAAAlodpAAQAAAABAAAArAAAANgACvyAAAAnEAAK/IAAACcQQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkAMjAxNToxMToyNyAxNTowMjo1OQAAAAADoAEAAwAAAAH//wAAoAIABAAAAAEAAAABoAMABAAAAAEAAAABAAAAAAAAAAYBAwADAAAAAQAGAAABGgAFAAAAAQAAASYBGwAFAAAAAQAAAS4BKAADAAAAAQACAAACAQAEAAAAAQAAATYCAgAEAAAAAQAAAhcAAAAAAAAASAAAAAEAAABIAAAAAf/Y/+0ADEFkb2JlX0NNAAH/7gAOQWRvYmUAZIAAAAAB/9sAhAAMCAgICQgMCQkMEQsKCxEVDwwMDxUYExMVExMYEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQ0LCw0ODRAODhAUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAABAAEDASIAAhEBAxEB/90ABAAB/8QBPwAAAQUBAQEBAQEAAAAAAAAAAwABAgQFBgcICQoLAQABBQEBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAEEAQMCBAIFBwYIBQMMMwEAAhEDBCESMQVBUWETInGBMgYUkaGxQiMkFVLBYjM0coLRQwclklPw4fFjczUWorKDJkSTVGRFwqN0NhfSVeJl8rOEw9N14/NGJ5SkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2N0dXZ3eHl6e3x9fn9xEAAgIBAgQEAwQFBgcHBgU1AQACEQMhMRIEQVFhcSITBTKBkRShsUIjwVLR8DMkYuFygpJDUxVjczTxJQYWorKDByY1wtJEk1SjF2RFVTZ0ZeLys4TD03Xj80aUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9ic3R1dnd4eXp7fH/9oADAMBAAIRAxEAPwD1JJfLCSKH/9n/7QsAUGhvdG9zaG9wIDMuMAA4QklNBCUAAAAAABAAAAAAAAAAAAAAAAAAAAAAOEJJTQQ6AAAAAADXAAAAEAAAAAEAAAAAAAtwcmludE91dHB1dAAAAAUAAAAAUHN0U2Jvb2wBAAAAAEludGVlbnVtAAAAAEludGUAAAAASW1nIAAAAA9wcmludFNpeHRlZW5CaXRib29sAAAAAAtwcmludGVyTmFtZVRFWFQAAAABAAAAAAAPcHJpbnRQcm9vZlNldHVwT2JqYwAAAAVoIWg3i75/bgAAAAAACnByb29mU2V0dXAAAAABAAAAAEJsdG5lbnVtAAAADGJ1aWx0aW5Qcm9vZgAAAAlwcm9vZkNNWUsAOEJJTQQ7AAAAAAItAAAAEAAAAAEAAAAAABJwcmludE91dHB1dE9wdGlvbnMAAAAXAAAAAENwdG5ib29sAAAAAABDbGJyYm9vbAAAAAAAUmdzTWJvb2wAAAAAAENybkNib29sAAAAAABDbnRDYm9vbAAAAAAATGJsc2Jvb2wAAAAAAE5ndHZib29sAAAAAABFbWxEYm9vbAAAAAAASW50cmJvb2wAAAAAAEJja2dPYmpjAAAAAQAAAAAAAFJHQkMAAAADAAAAAFJkICBkb3ViQG/gAAAAAAAAAAAAR3JuIGRvdWJAb+AAAAAAAAAAAABCbCAgZG91YkBv4AAAAAAAAAAAAEJyZFRVbnRGI1JsdAAAAAAAAAAAAAAAAEJsZCBVbnRGI1JsdAAAAAAAAAAAAAAAAFJzbHRVbnRGI1B4bEBSAAAAAAAAAAAACnZlY3RvckRhdGFib29sAQAAAABQZ1BzZW51bQAAAABQZ1BzAAAAAFBnUEMAAAAATGVmdFVudEYjUmx0AAAAAAAAAAAAAAAAVG9wIFVudEYjUmx0AAAAAAAAAAAAAAAAU2NsIFVudEYjUHJjQFkAAAAAAAAAAAAQY3JvcFdoZW5QcmludGluZ2Jvb2wAAAAADmNyb3BSZWN0Qm90dG9tbG9uZwAAAAAAAAAMY3JvcFJlY3RMZWZ0bG9uZwAAAAAAAAANY3JvcFJlY3RSaWdodGxvbmcAAAAAAAAAC2Nyb3BSZWN0VG9wbG9uZwAAAAAAOEJJTQPtAAAAAAAQAEgAAAABAAIASAAAAAEAAjhCSU0EJgAAAAAADgAAAAAAAAAAAAA/gAAAOEJJTQQNAAAAAAAEAAAAWjhCSU0EGQAAAAAABAAAAB44QklNA/MAAAAAAAkAAAAAAAAAAAEAOEJJTScQAAAAAAAKAAEAAAAAAAAAAjhCSU0D9QAAAAAASAAvZmYAAQBsZmYABgAAAAAAAQAvZmYAAQChmZoABgAAAAAAAQAyAAAAAQBaAAAABgAAAAAAAQA1AAAAAQAtAAAABgAAAAAAAThCSU0D+AAAAAAAcAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAA4QklNBAgAAAAAABAAAAABAAACQAAAAkAAAAAAOEJJTQQeAAAAAAAEAAAAADhCSU0EGgAAAAADRQAAAAYAAAAAAAAAAAAAAAEAAAABAAAACABpAG4AaQB0AC0AMQB4ADEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAABAAAAAFJnaHRsb25nAAAAAQAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAAAAQAAAABSZ2h0bG9uZwAAAAEAAAADdXJsVEVYVAAAAAEAAAAAAABudWxsVEVYVAAAAAEAAAAAAABNc2dlVEVYVAAAAAEAAAAAAAZhbHRUYWdURVhUAAAAAQAAAAAADmNlbGxUZXh0SXNIVE1MYm9vbAEAAAAIY2VsbFRleHRURVhUAAAAAQAAAAAACWhvcnpBbGlnbmVudW0AAAAPRVNsaWNlSG9yekFsaWduAAAAB2RlZmF1bHQAAAAJdmVydEFsaWduZW51bQAAAA9FU2xpY2VWZXJ0QWxpZ24AAAAHZGVmYXVsdAAAAAtiZ0NvbG9yVHlwZWVudW0AAAARRVNsaWNlQkdDb2xvclR5cGUAAAAATm9uZQAAAAl0b3BPdXRzZXRsb25nAAAAAAAAAApsZWZ0T3V0c2V0bG9uZwAAAAAAAAAMYm90dG9tT3V0c2V0bG9uZwAAAAAAAAALcmlnaHRPdXRzZXRsb25nAAAAAAA4QklNBCgAAAAAAAwAAAACP/AAAAAAAAA4QklNBBQAAAAAAAQAAAABOEJJTQQMAAAAAAIzAAAAAQAAAAEAAAABAAAABAAAAAQAAAIXABgAAf/Y/+0ADEFkb2JlX0NNAAH/7gAOQWRvYmUAZIAAAAAB/9sAhAAMCAgICQgMCQkMEQsKCxEVDwwMDxUYExMVExMYEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQ0LCw0ODRAODhAUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAABAAEDASIAAhEBAxEB/90ABAAB/8QBPwAAAQUBAQEBAQEAAAAAAAAAAwABAgQFBgcICQoLAQABBQEBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAEEAQMCBAIFBwYIBQMMMwEAAhEDBCESMQVBUWETInGBMgYUkaGxQiMkFVLBYjM0coLRQwclklPw4fFjczUWorKDJkSTVGRFwqN0NhfSVeJl8rOEw9N14/NGJ5SkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2N0dXZ3eHl6e3x9fn9xEAAgIBAgQEAwQFBgcHBgU1AQACEQMhMRIEQVFhcSITBTKBkRShsUIjwVLR8DMkYuFygpJDUxVjczTxJQYWorKDByY1wtJEk1SjF2RFVTZ0ZeLys4TD03Xj80aUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9ic3R1dnd4eXp7fH/9oADAMBAAIRAxEAPwD1JJfLCSKH/9kAOEJJTQQhAAAAAABdAAAAAQEAAAAPAEEAZABvAGIAZQAgAFAAaABvAHQAbwBzAGgAbwBwAAAAFwBBAGQAbwBiAGUAIABQAGgAbwB0AG8AcwBoAG8AcAAgAEMAQwAgADIAMAAxADUAAAABADhCSU0EBgAAAAAABwAEAAAAAQEA/+EPfWh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwNjcgNzkuMTU3NzQ3LCAyMDE1LzAzLzMwLTIzOjQwOjQyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDE1LTExLTI3VDE0OjUxOjM4KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE1LTExLTI3VDE1OjAyOjU5KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxNS0xMS0yN1QxNTowMjo1OSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA2MTFjYTI3LWE2YmItNGJlNi1iYzg4LTQyOGMxNWFhZWZmNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNjExY2EyNy1hNmJiLTRiZTYtYmM4OC00MjhjMTVhYWVmZjYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmYWJjNWFlZi02MjI1LTQzYWMtYTQzOC1iYzUyNWJiY2QzYjMiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJEaXNwbGF5Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYWJjNWFlZi02MjI1LTQzYWMtYTQzOC1iYzUyNWJiY2QzYjMiIHN0RXZ0OndoZW49IjIwMTUtMTEtMjdUMTQ6NTE6MzgrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL2pwZWciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA2MTFjYTI3LWE2YmItNGJlNi1iYzg4LTQyOGMxNWFhZWZmNiIgc3RFdnQ6d2hlbj0iMjAxNS0xMS0yN1QxNTowMjo1OSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmZhYmM1YWVmLTYyMjUtNDNhYy1hNDM4LWJjNTI1YmJjZDNiMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpmYWJjNWFlZi02MjI1LTQzYWMtYTQzOC1iYzUyNWJiY2QzYjMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmYWJjNWFlZi02MjI1LTQzYWMtYTQzOC1iYzUyNWJiY2QzYjMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0idyI/Pv/iD0RJQ0NfUFJPRklMRQABAQAADzRhcHBsAhAAAG1udHJSR0IgWFlaIAffAAsAEgAKADoAAmFjc3BBUFBMAAAAAEFQUEwAAAAAAAAAAAAAAAAAAAAAAAD21gABAAAAANMtYXBwbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEWRlc2MAAAFQAAAAYmRzY20AAAG0AAAEGmNwcnQAAAXQAAAAI3d0cHQAAAX0AAAAFHJYWVoAAAYIAAAAFGdYWVoAAAYcAAAAFGJYWVoAAAYwAAAAFHJUUkMAAAZEAAAIDGFhcmcAAA5QAAAAIHZjZ3QAAA5wAAAAMG5kaW4AAA6gAAAAPmNoYWQAAA7gAAAALG1tb2QAAA8MAAAAKGJUUkMAAAZEAAAIDGdUUkMAAAZEAAAIDGFhYmcAAA5QAAAAIGFhZ2cAAA5QAAAAIGRlc2MAAAAAAAAACERpc3BsYXkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtbHVj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"};return Q&&(C!==Q.failurelimit&&(Q.failure_limit=Q.failurelimit,delete Q.failurelimit),C!==Q.effectspeed&&(Q.effect_speed=Q.effectspeed,delete Q.effectspeed),A.extend(t,Q)),w=t.container===C||t.container===g?B:A(t.container),0===t.event.indexOf("scroll")&&w.bind(t.event,function(){return E()}),this.each(function(){var g=this,I=A(g);g.loaded=!1,(I.attr("src")===C||I.attr("src")===!1)&&I.is("img")&&I.attr("src",t.placeholder),I.one("appear",function(){if(!this.loaded){if(t.appear){var C=e.length;t.appear.call(g,C,t)}A("<img />").bind("load",function(){var C=I.attr("data-"+t.data_attribute);I.hide(),I.is("img")?I.attr("src",C):I.css("background-image","url('"+C+"')"),I[t.effect](t.effect_speed),g.loaded=!0;var B=A.grep(e,function(A){return!A.loaded});if(e=A(B),t.load){var Q=e.length;t.load.call(g,Q,t)}}).attr("src",I.attr("data-"+t.data_attribute))}}),0!==t.event.indexOf("scroll")&&I.bind(t.event,function(){g.loaded||I.trigger("appear")})}),B.bind("resize",function(){E()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&B.bind("pageshow",function(g){g.originalEvent&&g.originalEvent.persisted&&e.each(function(){A(this).trigger("appear")})}),A(I).ready(function(){E()}),this},A.belowthefold=function(I,Q){var E;return E=Q.container===C||Q.container===g?(g.innerHeight?g.innerHeight:B.height())+B.scrollTop():A(Q.container).offset().top+A(Q.container).height(),E<=A(I).offset().top-Q.threshold},A.rightoffold=function(I,Q){var E;return E=Q.container===C||Q.container===g?B.width()+B.scrollLeft():A(Q.container).offset().left+A(Q.container).width(),E<=A(I).offset().left-Q.threshold},A.abovethetop=function(I,Q){var E;return E=Q.container===C||Q.container===g?B.scrollTop():A(Q.container).offset().top,E>=A(I).offset().top+Q.threshold+A(I).height()},A.leftofbegin=function(I,Q){var E;return E=Q.container===C||Q.container===g?B.scrollLeft():A(Q.container).offset().left,E>=A(I).offset().left+Q.threshold+A(I).width()},A.inviewport=function(g,I){return!(A.rightoffold(g,I)||A.leftofbegin(g,I)||A.belowthefold(g,I)||A.abovethetop(g,I))},A.extend(A.expr[":"],{"below-the-fold":function(g){return A.belowthefold(g,{threshold:0})},"above-the-top":function(g){return!A.belowthefold(g,{threshold:0})},"right-of-screen":function(g){return A.rightoffold(g,{threshold:0})},"left-of-screen":function(g){return!A.rightoffold(g,{threshold:0})},"in-viewport":function(g){return A.inviewport(g,{threshold:0})},"above-the-fold":function(g){return!A.belowthefold(g,{threshold:0})},"right-of-fold":function(g){return A.rightoffold(g,{threshold:0})},"left-of-fold":function(g){return!A.rightoffold(g,{threshold:0})}})}(g,window,document)});
;/*!/assets/js/jquery.scrollfix/jquery.scrollfix.js*/
define("detail:assets/js/jquery.scrollfix/jquery.scrollfix",function(n,o,t){!function(e){"function"==typeof define&&define.amd?define(["common:lib/jquery/jquery-1.11.3"],e):"object"==typeof o?t.exports=e(n("common:lib/jquery/jquery-1.11.3")):e(jQuery)}(function(n){var o={min:0,max:0,buffer:0,container:window,fixClass:"fixed",onEnter:null,onLeave:null};return ScrollFix=function(t,e){this.$elem=n(t),this.opts=n.extend({},o,e),this.init()},ScrollFix.prototype={constructor:ScrollFix,init:function(){var o=this,t=o.opts;"string"==typeof t.max&&(t.max=n(t.max)),"string"==typeof t.min&&(t.min=n(t.min)),o.bindEvent()},bindEvent:function(){var o,t=this,e=t.opts,i=t.$elem,s=n(e.container),l=e.max,r=e.min,f=!1,c=0,a=0;s.on("scroll.scrollfix",function(){o=s.scrollTop()+e.buffer,l.length&&(c=l.offset().top),r.length&&(a=r.offset().top),0===a&&(a=i.offset().top),0===c&&(c=n(document).height()),o>=a&&c>=o?f||(f=!0,i.addClass(e.fixClass),n.isFunction(e.onEnter)&&e.onEnter(i[0],o)):f&&(f=!1,i.removeClass(e.fixClass),n.isFunction(e.onLeave)&&e.onLeave(i[0],o))})},destroy:function(){this.$elem.removeData("scrollfix"),this.opts.container.off("scroll.scrollfix")}},n.fn.scrollfix=function(o){return this.each(function(){var t=n(this),e=t.data("scrollfix"),i="object"==typeof o&&o;e||t.data("scrollfix",e=new ScrollFix(this,i)),"string"==typeof o&&e[o]()})},ScrollFix})});
;/*!/assets/js/jquery.vtab/jquery.vtab.js*/
define("detail:assets/js/jquery.vtab/jquery.vtab",function(t,e,n){!function(i){"function"==typeof define&&define.amd?define(["common:lib/jquery/jquery-1.11.3"],i):"object"==typeof e?n.exports=i(t("common:lib/jquery/jquery-1.11.3")):i(jQuery)}(function(t){function e(e,i){this.$con=t(e),this.opts=t.extend({},n,i),this.init()}var n={eventype:"click",effect:"none",active:null,afterActive:t.noop,navSelector:".ui-tab-nav",contSelector:".ui-tab-content",delay:0};e.prototype={init:function(){var t=this,e=t.opts;t.setup(),t.bindEvent(),null!==e.active&&t.activate(e.active)},setup:function(){var t=this,e=t.$con;t.$tabs=e.find(t.opts.navSelector).children(),t.$panels=e.find(t.opts.contSelector).children()},bindEvent:function(){var e,n=this;n.$tabs.on(n.opts.eventype,function(i){i.preventDefault();var a=t(this),o=a.index();a.hasClass("current")||(e&&clearTimeout(e),e=setTimeout(function(){n.activate(o)},n.opts.delay))}),n.opts.delay&&n.$tabs.on("mouseleave",function(){clearTimeout(e)})},activate:function(t){var e=this,n=e.opts,i={none:function(){e.$panels.hide().eq(t).show()},fade:function(){e.$panels.hide().eq(t).fadeIn()}};i[e.opts.effect](),e.$tabs.eq(t).addClass("current").siblings().removeClass("current"),e.$panels.eq(t).addClass("current").siblings().removeClass("current"),n.afterActive(e.$tabs.eq(t),t)}},t.fn.vtab=function(n){return this.each(function(){var i=t(this),a=i.data("vtab");a||i.data("vtab",a=new e(this,n)),"string"==typeof n&&a[n]()})}})});
;/*!/assets/js/property.js*/
define("detail:assets/js/property",function(e){Array.prototype.every||(Array.prototype.every=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=arguments.length>=2?arguments[1]:void 0,n=0;a>n;n++)if(n in t&&!e.call(i,t[n],n,t))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=[],n=arguments.length>=2?arguments[1]:void 0,s=0;a>s;s++)if(s in t){var o=t[s];e.call(n,o,s,t)&&i.push(o)}return i});var t=e("common:lib/jquery/jquery-1.11.3"),a=e("common:lib/underscore/underscore-min"),i=e("common:widgets/site-basejs/login"),n=e("detail:assets/js/backbone");t.fn.extend({lockButton:function(e){var a=t(this),e=e?e:3e3;a.addClass("locked").prop("disabled",!0),window.setTimeout(function(){a.removeClass("locked").prop("disabled",!1)},e)}});var s,o,c,l,r,u,p;l=n.Model.extend({defaults:{buyButton:"",images:null,names:"",packageIds:null,price:"",priceCent:0,pvs:"",skuId:0,stock:0}}),r=n.Collection.extend({model:l}),s=n.Model.extend({defaults:{buyButton:"",images:null,names:"",packageIds:null,price:"",priceCent:0,pvs:"",skuId:"",stock:"",propItem:null,propSet:null,total:0,quantity:1,activePackage:"",packageSet:null,packageSkuIds:null,packageTotalPriceCent:0,packageTotalProfitsCent:0,packageMap:null,packageStock:null,packageItems:null,initSelectedPackage:!1}}),p={price:t("#J_price"),totalPrice:t("#J_totalPrice"),totalPriceShortcut:t("#J_totalPriceShortcut"),btnBuy:t("#J_btnBuy"),packageTab:t("#J_packageTab"),packageContent:t("#J_packageContent"),packageBody:t("#J_packageBody"),summaryMain:t("#J_summaryMain"),imgBooth:t("#J_imgBooth"),previewThumb:t("#J_previewThumb"),propertyPackage:t("#propertyPackage"),quantity:t("#J_quantity"),summaryPackageName:t("#J_summaryPackageName"),sumaryPackageItemNames:t("#J_sumaryPackageItemNames"),message:t("#J_message"),microtime:t("#curr_microtime")},o=n.View.extend({events:{"click .property-sale li":"setProp","click #J_packageTab li":"setPackage","click .vm-minus":"quantityMinus","click .vm-plus":"quantityPlus","keyup #J_quantity":"enterQuantity","click .vm-prop a":"activePackageItem","click #J_btnBuy":"submit"},templatePackageItem:'<%for(var i=0,length=packages.length;i<length;i++){%><li data-value="<%= packages[i].id %>"<%if(!packages[i].available){%>class="disabled"<%}%>title="<%= packages[i].name %>"><a href="#"><p class="vm-text <% if (length === 1 && packages[i].id === 0) { %>vm-standard<% } %>"><%=packages[i].name%><%if(packages[i].items&&packages[i].items.length){%><br><%if(packages[i].available){%><span class="vm-text-price"><%=packages[i].price%>元</span><%if(packages[i].profits>0){%><span class="vm-text-profits">省<em><%=packages[i].profits%></em>元</span><%}%><%}else{%>已售罄<%}%><%}else if(length!==1){%><br><span class="vm-text-standard">不享受优惠</span><%}%></p></a></li><%}%>',templatePackage:a.template(t("#J_packageTmpl").html()),imgLoaded:[],initialize:function(){{var e=this;e.model}e.listenTo(e.model,"change:propSet",e.mergeSkuModel),e.listenTo(e.model,"change:priceCent",e.updatePrice),e.listenTo(e.model,"change:packageTotalPriceCent",e.setTotalPrice),e.listenTo(e.model,"change:total",e.updateTotal),e.listenTo(e.model,"change:names",e.updateNames),e.listenTo(e.model,"change:packageIds",e.handlerPackage),e.listenTo(e.model,"change:stock",e.updateStock),e.listenTo(e.model,"change:buyButton",e.updateButton),e.listenTo(e.model,"change:activePackage",e.activePackage),e.listenTo(e.model,"change:images",e.updateImages),e.listenTo(e.model,"change:pvs",e.updatePvs),e.listenTo(e.model,"change:quantity",e.updateQuantity),e.initSku()},initSku:function(){var e=this,a=e.model,i=(e.collection,a.get("pvs")),n=i.split("+")[0],s=i.split("+")[1],o=n.split(";"),c=[],l=[],r={};t.each(o,function(t,a){l=a.split(":"),r[l[0]]=a,c.push(l[0]),e.$el.find('[data-value="'+a+'"]').addClass("selected")}),a.set({propItem:c,propSet:r}),void 0!==s&&(a.set("pvs",n,{silent:!0}),e.initPackage(s)),e.analysis(),e.syncSoonSale(),p.quantity.val(1)},initPackage:function(e){var t=this;t.model.set({initSelectedPackage:!0}),p.packageTab.find('[data-value="'+e+'"]').trigger("click",[!0])},quantityMinus:function(e){e.preventDefault();var a=t(e.currentTarget),i=a.siblings("input"),n=i.val();n=t.isNumeric(n)?parseInt(n,10)-1:1,0>=n&&(n=1),this.model.set("quantity",n)},quantityPlus:function(e){e.preventDefault();var a=t(e.currentTarget),i=a.siblings("input"),n=i.data("max"),s=i.val();s=t.isNumeric(s)?parseInt(s,10)+1:1,n&&s>=n?s=n:s>500&&(s=500),this.model.set("quantity",s)},enterQuantity:function(e){e.preventDefault();var a=t(e.currentTarget),i=a.data("max"),n=a.val();n=t.isNumeric(n)?parseInt(n,10):1,0>=n&&(n=1),i&&n>=i?n=i:n>500&&(n=500),a.val(n),this.model.set("quantity",n)},getSkuModel:function(e){var a,i=this,n=(i.model,i.collection),s=t.extend({},n.get(e).toJSON()),o=s.id.split(";");return t.each(o,function(e,t){a=t.split(":"),delete s[a[0]]}),delete s.id,s},updatePrice:function(e,t){var a=t/100;p.price.text(a.toFixed(2)),this.setTotalPrice()},setTotalPrice:function(){var e=this,t=e.model,a=t.get("packageTotalPriceCent"),i=t.get("priceCent");t.set("total",a+i)},updateNames:function(e,t){p.summaryMain.html(t+"&nbsp;&nbsp;￥"+e.get("price"))},updateTotal:function(e,t){var a=e.get("quantity"),t=t||e.get("total"),t=t/100*a;p.totalPrice.text("￥"+t.toFixed(2)),p.totalPriceShortcut.text("￥"+t.toFixed(2))},updateStock:function(e,t){var a=e.get("buyButton");u.isComingSale()?(p.btnBuy.text("即将发售").addClass("disabled"),p.message.text(u.getShowTime())):0>=t?p.btnBuy.text(a).addClass("disabled"):p.btnBuy.text("立即购买").removeClass("disabled")},updateButton:function(e,t){var a=e.get("stock"),i=u.isComingSale();!i&&0>=a&&p.btnBuy.text(t)},preloadImages:function(e){var a,i=this;e&&e.length&&(a=t.map(e,function(e){return e+"@680x680.jpg"}),t.each(a,function(e,a){if(-1===t.inArray(a,i.imgLoaded)){var n=new Image;n.src=a,n.complete?i.imgLoaded.push(a):n.onload=n.onerror=function(){i.imgLoaded.push(n),n.onload=n.onerror=null}}}))},updateImages:function(e,a){var i=this,n=a[0]+"@680x680.jpg",s="";p.imgBooth.find("img").attr("src",n),t.each(a,function(e){s+='<li><a href="#"><img src="'+a[e]+'@120x120.jpg" width="110" height="110"></a></li>'}),p.previewThumb.html(s),p.previewThumb.find("li:first").addClass("current"),i.preloadImages(a)},updatePvs:function(e,t){var a=this,e=a.model,i=e.get("packageStock"),n=e.get("activePackage"),s=t+"+"+n;i[s]&&e.set({buyButton:i[s].buyButton,skuId:i[s].skuId,stock:i[s].stock})},syncSoonSale:function(){var e=this;u.isComingSale()&&(p.btnBuy.text("即将发售").addClass("disabled"),p.message.text(u.getShowTime()),e.countDown())},countDown:function(){var e=p.microtime.val(),t=MZ.modelData.shelveTime,a=Math.floor((t-e)/1e3),i=setInterval(function(){0>=a&&(p.btnBuy.text("立即购买").removeClass("disabled"),p.message.text(""),p.microtime.val(t+1),clearInterval(i)),a--},1e3)},updateQuantity:function(e,t){p.quantity.val(t),this.updateTotal(e)},setProp:function(e){e.preventDefault();var a=this,i=a.model,n=t(e.currentTarget),s=n.data("value"),o=s.split(":"),c=t.extend({},i.get("propSet"));void 0!==c[o[0]]&&(n.hasClass("disabled")||(n.hasClass("selected")?(c[o[0]]="",i.set("propSet",c),n.removeClass("selected")):(c[o[0]]=s,i.set("propSet",c),n.addClass("selected").siblings().removeClass("selected")),a.analysis(),a.clearMessage()))},setPackage:function(e,a){e.preventDefault();var i=this,n=i.model,s=n.get("packageMap"),a=n.get("initSelectedPackage"),o=t(e.currentTarget),c=o.data("value");o.hasClass("disabled")||(o.hasClass("selected")?(n.set("activePackage",""),o.removeClass("selected"),o.find(".vm-text-price").text(s[c].price+"元"),o.find(".vm-text-profits").html("省<em>"+s[c].profits+"</em>元")):(o.addClass("selected").siblings().removeClass("selected"),n.set("activePackage",c)),a&&n.set({initSelectedPackage:!1}),i.clearMessage())},handlerPackage:function(e,i){var n,s,o=this,c=e.get("packageMap"),l=[];i&&i.length?(t.each(i,function(e,t){s=c[t],s.id=t,l.push(s)}),n=a.template(o.templatePackageItem),p.packageTab.html(n({packages:l})),p.packageContent.hide(),p.packageBody.empty(),p.propertyPackage.is(":hidden")&&p.propertyPackage.slideDown()):(p.propertyPackage.hide(),p.packageTab.empty(),p.packageBody.empty()),e.set("activePackage","",{silent:!0}),e.set({packageSkuIds:null,packageTotalPriceCent:0})},activePackageItem:function(e){var a=this,i=t(e.currentTarget);i.addClass("selected").siblings().removeClass("selected"),a.switchPackageItem(e.currentTarget),a.packageCalculate(),a.updatePackagePrice()},switchPackageItem:function(e){var a,i=t(e),n=this,s=n.model,o=s.get("packageItems"),c=(i.data("sku"),i.data("sid")),l=i.data("key");c&&l&&(a=o[c].cells[l],i.parents("li").find(".vm-pic img").attr({src:a.images+"@80x80.jpg",alt:a.names}))},packageCalculate:function(){var e,a=this,i=a.model,n=i.get("packageItems"),s=[],o=[],c={},l=0,r=0,u="";p.packageBody.find(".selected").each(function(){var a=t(this),i=a.data("sku"),c=a.data("sid"),l=a.data("key");s.push(i),c&&l&&(e=n[c].cells[l],e.fullName=n[c].name+"&nbsp;"+e.names,o.push(e))}),t.each(o,function(e,t){c[t.skuId]=t.fullName,l+=t.priceCent,r+=t.originPriceCent-t.priceCent,u+=t.fullName+"&nbsp;&nbsp;￥"+t.price+"<br>"}),a.model.set({packageSkuIds:s,packageSet:c,packageTotalPriceCent:l,packageTotalProfitsCent:r}),p.sumaryPackageItemNames.html(u)},updatePackagePrice:function(){var e=this,t=e.model.get("packageTotalPriceCent")/100,a=e.model.get("packageTotalProfitsCent")/100,i=p.packageTab.find(".selected").find(".vm-text-profits");p.packageTab.find(".selected").find(".vm-text-price").text(t+"元"),a>0?i.html("省<em>"+a+"</em>元").show():i.hide()},renderPackageContent:function(e){var a,i=this,n=i.model.get("packageItems"),s=i.model.get("initSelectedPackage"),o=[];e&&t.isArray(e)?(t.each(e,function(e,i){a=t.extend({},n[i]),a.id=i,o.push(a)}),p.packageBody.html(i.templatePackage({items:o})),s?p.packageContent.show():p.packageContent.slideDown()):(p.packageContent.hide(),p.packageBody.empty(),p.packageTab.find(".selected").addClass("single"))},activePackage:function(e,t){var a=this,e=a.model,i=e.get("packageMap"),n=e.get("packageStock"),s=e.get("pvs")+"+"+t;(t||0===t)&&i[t]?(a.model.set({buyButton:n[s].buyButton,skuId:n[s].skuId,stock:n[s].stock}),a.renderPackageContent(i[t].items),a.packageCalculate(),p.summaryPackageName.text(i[t].name)):(p.packageContent.hide(),p.packageBody.empty(),p.summaryPackageName.text(""),p.sumaryPackageItemNames.text(""),a.model.set({packageSkuIds:null,packageTotalPriceCent:0,packageTotalProfitsCent:0}))},mergeSkuModel:function(e,i){var n,s,o,c=this,l=(c.collection,c.model.get("propItem")),r=c.model.get("packageMap"),u=(c.model.get("packageItems"),[]);t.each(l,function(e,t){u.push(i[t])}),n=u.join(";"),c.collection.get(n)&&(s=c.getSkuModel(n),o=t.extend(!0,{},s),delete s.stock,delete s.skuId,delete s.buyButton,delete s.pvs,c.model.set(s),a.isEmpty(r)?(c.model.set("pvs",o.pvs,{silent:!0}),c.model.set({buyButton:o.buyButton,stock:o.stock,skuId:o.skuId})):""!==c.model.get("activePackage")?c.model.set("pvs",o.pvs):c.model.set("pvs",o.pvs,{silent:!0}))},analysis:function(){var e,a,i=this,n=i.model.get("propItem"),s=t.extend({},i.model.get("propSet")),o=i.collection,c={};t.each(s,function(t,a){a&&(e=a.split(":"),c[e[0]]=e[1])}),t.each(n,function(e,n){var s,l=n,r=t.extend({},c),u=i.$el.find('.property-sale li[data-value^="'+l+'"]'),p=[];delete r[n],a=o.where(r),t.each(a,function(e,a){var i=a.get(l);-1===t.inArray(i,p)&&p.push(i)}),s=u.removeClass("disabled").filter(function(){var e=t(this).data("value"),a=e.split(":")[1];return-1===t.inArray(a,p)}).addClass("disabled")})},render:function(){return this},validate:function(){var e=this,i=e.model,n=e.$el.find(".property-sale"),s=i.get("propSet"),o=i.get("propItem"),c=i.get("quantity"),l=i.get("packageMap"),r=i.get("activePackage"),u=[],p=!0,d="",g=!1;return g=s&&o.every(function(e){return""!==s[e]}),t.each(o,function(e,t){var a;s[t]||(a=n.eq(e).find("ul").data("property"),u.push(a))}),a.isEmpty(l)||""!==r||u.push("套餐"),u.length&&(d="请确认选择这些商品信息："+u.join("、"),p=!1),t.isNumeric(c)||(d="请确认输入了正确的商品数量",p=!1),{isValid:p,message:d}},validateRemote:function(){function e(e){var a,i=[],o=!0;t.each(e,function(e,t){t||(i.push(e),o=!1)}),o?p.resolve():(a=i[0]==n?"商品"+s+" 已售罄":"套餐中的 "+r[i[0]]+" 已售罄",p.reject(a))}var a=this,i=a.model,n=i.get("skuId"),s=i.get("names"),o=i.get("packageMap"),c=i.get("activePackage"),l=i.get("packageSkuIds"),r=i.get("packageSet"),u=[],p=t.Deferred();return u.push(n),c&&l&&l.length&&(u=u.concat(l)),""!==c&&o[c]&&(s=s+" "+o[c].name),t.ajax({url:"http://store.meizu.com/api/stock_api",type:"get",data:{skuId:u.join(",")},dataType:"json"}).done(function(t){t.status?e(t.data):p.reject(t.message)}).fail(function(){}),p.promise()},clearMessage:function(){u.isComingSale()||p.message.text("").removeClass("error")},buyNow:function(){var e=this,a=e.model.toJSON(),i=a.packageSkuIds?a.packageSkuIds.join(","):"",n=t("<form>"),s=['<input type="hidden" name="sku_id" value="'+a.skuId+'" />','<input type="hidden" name="numbers" value="'+a.quantity+'"/>','<input type="hidden" name="package_id" value="'+a.activePackage+'" />','<input type="hidden" name="package_list" value="'+i+'"/>'].join("");n.attr({action:"http://store.meizu.com/orders/add",method:"POST"}).html(s).appendTo("body").submit()},submit:function(e){var a,n=this,s=t(e.currentTarget);if(!s.hasClass("disabled")&&!s.hasClass("locked"))return s.lockButton(),a=n.validate(),a.isValid?i.isLogin?void n.validateRemote().done(function(){n.buyNow()}).fail(function(e){"login first"==e?u.login():p.message.html(e).addClass("error")}):void u.login():void p.message.html(a.message).addClass("error")}}),u={parseCspuMap:function(e){var a,i=[],e=e||MZ.modelData.cspuMap;return t.each(e,function(e,n){var s=e.split(";");t.each(s,function(e,t){a=t.split(":"),n[a[0]]=a[1]}),n.id=e,n.pvs=e,i.push(n)}),i},queryString:function(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]*)(&?)","i"));return t?t[1]:""},getPvs:function(){var e=this.queryString("skuid");return e&&MZ.modelData.skuMap[e]?MZ.modelData.skuMap[e]:MZ.modelData.recommend},login:function(){var e="https://member.meizu.com/login/login.html?",a={appuri:"http://store.meizu.com/accounts/login.htm",useruri:location.href,service:"store",sid:"",autodirct:!0};location.href=e+t.param(a)},isComingSale:function(){var e=MZ.modelData.shelveMethod,t=p.microtime.val(),a=MZ.modelData.shelveTime;return 2===e&&a>t?!0:!1},getShowTime:function(){var e,t=MZ.modelData.shelveTime,a=new Date;return a.setTime(t),e=a.getMonth()+1+"月"+a.getDate()+"日 "+(a.getHours()>=10?a.getHours():"0"+a.getHours())+":"+(a.getMinutes()>=10?a.getMinutes():"0"+a.getMinutes())+" 准时开售"}},c=new o({el:"#property",model:new s({pvs:u.getPvs(),packageMap:MZ.modelData.packageMap,packageStock:MZ.modelData.packageStockMap,packageItems:MZ.modelData.packageItems}),collection:new r(u.parseCspuMap())})});
;/*!/assets/js/main.js*/
var $=require("common:lib/jquery/jquery-1.11.3");$(function(){require("detail:assets/js/property"),require("detail:assets/js/jquery.vtab/jquery.vtab"),require("detail:assets/js/jquery.lazyload/jquery.lazyload"),require("detail:assets/js/jquery.scrollfix/jquery.scrollfix");var e=require("detail:assets/js/jquery.gotop/jquery.gotop"),t={imgBooth:$("#J_imgBooth")};$("#detail").vtab({navSelector:".detail-tab ul",contSelector:".detail-content",afterActive:function(e){var t=e.parents(".detail-tab");t.hasClass("fixed")&&$("html,body").animate({scrollTop:$("#detail").offset().top},150)}}),$("#J_previewThumb").on("click","li",function(e){e.preventDefault();var r=$(this),a=r.find("img").attr("src");previewUrl=a.replace("@120x120","@680x680"),r.hasClass("current")||(r.addClass("current").siblings().removeClass("current"),t.imgBooth.find("img").attr("src",previewUrl).hide().fadeIn())}),$("#introduce .lazy").lazyload({threshold:300}),$("#detailTabFixed").scrollfix({min:"#detail",max:".site-footer"}),$("#J_btnBuyShortcut").on("click",function(){$("html,body").animate({scrollTop:$("#property").offset().top},200)}),new e({speed:600,smartHeight:500})});